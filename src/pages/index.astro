---
import Layout from "../layouts/Layout.astro";
import ThemeToggle from "../components/ThemeToggle";
import { Icon } from "astro-icon/components";
---

<Layout title="UStat">
  <!-- Noise texture overlay -->
  <div class="noise-overlay"></div>

  <div class="relative overflow-hidden w-full">
    <!-- Gradient Background Accent -->
    <div
      class="absolute top-0 left-1/2 -translate-x-1/2 w-full h-[500px] bg-[radial-gradient(ellipse_at_top,var(--color-blue-600)_0%,transparent_70%)] opacity-10 dark:opacity-20 pointer-events-none"
    >
    </div>

    <header
      class="container mx-auto px-6 py-4 flex justify-between items-center relative z-10"
    >
      <div class="flex items-center gap-3 select-none">
        <div class="text-2xl font-black tracking-tighter">
          <span class="text-[var(--accent-color)]">U</span>STAT
        </div>
      </div>
      <ThemeToggle client:load />
    </header>

    <main class="container mx-auto px-6 pb-12 md:pb-8 relative z-10">
      <!-- Hero -->
      <section class="pt-4 pb-6 md:pb-10 text-center max-w-4xl mx-auto">
        <p
          class="text-2xl md:text-3xl font-bold mb-10 max-w-3xl mx-auto leading-tight animate-in fade-in slide-in-from-bottom-6 duration-700 delay-300"
        >
          Scoreboard + stat tracking for Ultimate.
        </p>

        <!-- Compact Badges -->
        <div
          class="flex flex-wrap justify-center gap-4 sm:gap-6 animate-in fade-in slide-in-from-bottom-8 duration-700 delay-500"
        >
          <div class="text-center">
            <div
              class="text-lg sm:text-xl font-bold text-[var(--color-emerald-500)]"
            >
              Free!
            </div>
            <div class="text-xs opacity-50">No subscription</div>
          </div>
          <div class="hidden sm:block w-px h-10 bg-[var(--border-color)]"></div>
          <div class="text-center">
            <div
              class="text-lg sm:text-xl font-bold text-[var(--color-amber-500)]"
            >
              No Login
            </div>
            <div class="text-xs opacity-50">No signup needed</div>
          </div>
          <div class="hidden sm:block w-px h-10 bg-[var(--border-color)]"></div>
          <div class="text-center">
            <div
              class="text-lg sm:text-xl font-bold text-[var(--color-rose-500)]"
            >
              Offline
            </div>
            <div class="text-xs opacity-50">Data stored locally</div>
          </div>
          <div class="hidden sm:block w-px h-10 bg-[var(--border-color)]"></div>
          <div class="text-center">
            <div
              class="text-lg sm:text-xl font-bold text-[var(--accent-color)]"
            >
              No Ads
            </div>
            <div class="text-xs opacity-50">Unless Ultiworld buys it*</div>
            <div class="text-[12px] opacity-40 italic ml-2">
              rip frisbee-rankings.com
            </div>
          </div>
        </div>
      </section>

      <!-- App Preview Screenshots -->
      <section class="mb-16 md:mb-16 relative">
        <!-- Segmented Control -->
        <div class="flex justify-center mb-8">
          <div
            class="inline-flex bg-[var(--bg-card)] rounded-full p-1 border border-[var(--border-color)]"
          >
            <button
              id="tab-scoreboard"
              class="screenshot-tab px-6 py-2.5 rounded-full font-bold text-sm transition-all bg-[var(--accent-color)] text-white flex items-center gap-2"
              onclick="showScreenshot('scoreboard')"
            >
              <Icon name="lucide:trophy" class="w-[18px] h-[18px]" />
              Scoreboard
            </button>
            <button
              id="tab-player-stats"
              class="screenshot-tab px-6 py-2.5 rounded-full font-bold text-sm transition-all text-[var(--text-app)] opacity-70 hover:opacity-100 flex items-center gap-2"
              onclick="showScreenshot('player-stats')"
            >
              <Icon name="lucide:bar-chart-3" class="w-[18px] h-[18px]" />
              Stats
            </button>
          </div>
        </div>
        <div class="max-w-4xl mx-auto">
          <!-- Video -->
          <div
            class="relative bg-gradient-to-b from-[var(--bg-card)] to-transparent rounded-3xl p-4 sm:p-8 border border-[var(--border-color)]"
          >
            <div class="max-w-4xl mx-auto">
              <!-- Scoreboard Video -->
              <div id="screenshot-scoreboard" class="screenshot-panel">
                <div class="aspect-video w-full">
                  <iframe
                    src="https://www.youtube.com/embed/_xIN8lrM3zQ?autoplay=1&mute=1&loop=1&playlist=_xIN8lrM3zQ&playsinline=1"
                    title="Scoreboard Preview"
                    frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    allowfullscreen
                    loading="lazy"
                    class="w-full h-full rounded-2xl shadow-2xl border border-[var(--border-color)]"
                  ></iframe>
                </div>
                <p class="text-center mt-6 opacity-70 text-lg">
                  <strong>Tap to score</strong>, track turnovers from the
                  floating action bar
                </p>
              </div>
              <!-- Player Stats Video -->
              <div id="screenshot-player-stats" class="screenshot-panel hidden">
                <div class="aspect-video w-full">
                  <iframe
                    src="https://www.youtube.com/embed/YdbxByZsUDA?autoplay=1&mute=1&loop=1&playlist=YdbxByZsUDA&playsinline=1"
                    title="Stats Preview"
                    frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    allowfullscreen
                    loading="lazy"
                    class="w-full h-full rounded-2xl shadow-2xl border border-[var(--border-color)]"
                  ></iframe>
                </div>
                <p class="text-center mt-6 opacity-70 text-lg">
                  <strong>Team and Player Stats</strong> along with a game timeline
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <script is:inline>
        function showScreenshot(name) {
          // Hide all panels
          document.querySelectorAll(".screenshot-panel").forEach((panel) => {
            panel.classList.add("hidden");
          });
          // Show selected panel
          document
            .getElementById("screenshot-" + name)
            .classList.remove("hidden");

          // Update tab styles for segmented control
          document.querySelectorAll(".screenshot-tab").forEach((tab) => {
            tab.classList.remove("bg-[var(--accent-color)]", "text-white");
            tab.classList.add("opacity-70");
          });
          const activeTab = document.getElementById("tab-" + name);
          activeTab.classList.add("bg-[var(--accent-color)]", "text-white");
          activeTab.classList.remove("opacity-70");
        }
      </script>

      <!-- Features Grid -->
      <section
        id="features"
        class="relative py-12 md:py-20 bg-[var(--bg-card)] w-screen left-1/2 -translate-x-1/2"
      >
        <div class="max-w-6xl mx-auto px-6">
          <!-- Section header -->
          <div class="text-center max-w-3xl mx-auto mb-12">
            <h2 class="text-3xl sm:text-4xl font-bold mb-4">
              <span
                class="bg-gradient-to-r from-[var(--color-blue-600)] to-[var(--color-emerald-500)] text-transparent bg-clip-text"
                >Info / Features</span
              >
            </h2>
          </div>

          <!-- Features grid -->
          <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
            {
              [
                {
                  icon: "lucide:sliders-horizontal",
                  title: "Customizable",
                  desc: "Dark and light mode, color customizations, settings to allow simple scoreboard or more involved stat tracking.",
                  color: "var(--color-blue-600)",
                },
                {
                  icon: "lucide:users",
                  title: "Gender Ratio Tracking",
                  desc: "Supports Ratio Rule A (ABBA) gender ratio tracking.",
                  color: "var(--color-emerald-500)",
                },
                {
                  icon: "lucide:sparkles",
                  title: "Stat Insights",
                  desc: "Player impact, team offensive/defensive efficiency, average point length, and more.",
                  color: "var(--color-amber-500)",
                },
                {
                  icon: "lucide:file-down",
                  title: "Exportable Data",
                  desc: "Export your game stats to CSV anytime you want for further analysis or record keeping.",
                  color: "var(--color-blue-600)",
                },
                {
                  icon: "lucide:timer",
                  title: "Game Timing",
                  desc: "Hardcap, softcap, timeout, point length, and even halftime timers built in.",
                  color: "var(--color-rose-500)",
                },
                {
                  icon: "lucide:layers",
                  title: "Aggregate Games",
                  desc: "View stats from multiple games to track trends and performance over time.",
                  color: "var(--color-emerald-500)",
                },
              ].map((f, i) => (
                <div
                  class="bg-[var(--bg-app)] p-6 rounded-2xl border border-[var(--border-color)] hover:border-[var(--accent-color)] transition-all group hover:-translate-y-1"
                  style={`animation-delay: ${i * 100}ms`}
                >
                  <div
                    class="w-12 h-12 rounded-xl flex items-center justify-center mb-4 transition-all duration-300 group-hover:scale-110"
                    style={`background: color-mix(in srgb, ${f.color} 15%, transparent); color: ${f.color};`}
                  >
                    <Icon name={f.icon} class="w-6 h-6" />
                  </div>
                  <h3 class="text-lg font-bold mb-2">{f.title}</h3>
                  <p class="opacity-70 text-sm">{f.desc}</p>
                </div>
              ))
            }
          </div>
        </div>
      </section>

      <!-- Limitations -->
      <section class="py-10 md:py-16 max-w-3xl mx-auto">
        <h2 class="text-2xl font-bold mb-8 text-center opacity-70">
          Limitations/Cons
        </h2>
        <div class="space-y-4">
          {
            [
              {
                icon: "lucide:bug",
                title: "Bugs Possible",
                desc: `This is a new project, if you run into any issues feel free to report them on <a href="https://discord.gg/yQEamZ58CA" target="_blank" class="underline hover:text-[var(--accent-color)]">Discord</a>.`,
              },
              {
                icon: "lucide:banknote",
                title: "Future Features May Have Paywalls",
                desc: "Basic stat tracking and everything currently developed will be free, but if I add cloud sync or more in depth stat tracking I may paywall that.",
              },
              {
                icon: "lucide:smartphone",
                title: "iOS Coming Eventually",
                desc: "This is built on React Native so in theory it should work on iOS, but I need a Macbook to fully build/test it.",
              },
              {
                icon: "lucide:cloud-off",
                title: "No Cloud Sync",
                desc: "If you have multiple teammates tracking stats for the same team, the only way to share games is to export them to a CSV file.",
              },
              {
                icon: "lucide:clipboard-list",
                title: "Basic Event Tracking",
                desc: "Only game events are tracked (goal, assist, drop, turn). Passes between players are not tracked. I have some ideas to handle this in the future, but it's a pretty large feature",
              },
            ].map((item) => (
              <div class="flex gap-4 p-5 rounded-xl bg-[var(--color-amber-500)]/5 border border-[var(--color-amber-500)]/20">
                <Icon
                  name={item.icon}
                  class="w-6 h-6 shrink-0 text-[var(--color-amber-500)]"
                />
                <div>
                  <h3 class="font-bold mb-1">{item.title}</h3>
                  <p
                    class="opacity-60 text-sm leading-relaxed"
                    set:html={item.desc}
                  />
                </div>
              </div>
            ))
          }
        </div>
      </section>

      <footer
        class="border-t border-[var(--border-color)] bg-[var(--bg-card)] py-12 w-screen left-1/2 -translate-x-1/2 relative"
      >
        <div class="container mx-auto px-6 text-center">
          <div class="flex justify-center gap-6 mb-8">
            <!-- Social Links -->
            <a
              href="/privacy"
              class="text-[var(--text-app)] opacity-60 hover:opacity-100 hover:text-[var(--accent-color)] transition-all"
              >Privacy</a
            >
          </div>
          <div
            class="inline-block bg-[var(--bg-input)] rounded-2xl p-6 border border-[var(--border-color)] max-w-sm"
          >
            <div class="flex items-center gap-2 justify-center mb-2">
              <Icon
                name="lucide:laptop"
                class="w-6 h-6 text-[var(--color-blue-600)]"
              />
              <p class="text-lg font-bold">Macbook Fund</p>
            </div>
            <p class="text-xs opacity-60 mb-4">
              Any money I make from this app goes towards getting a Mac so I can
              build the iOS version.
            </p>
            <a
              href="https://account.venmo.com/u/Daniel-Lang-25"
              target="_blank"
              class="inline-flex items-center gap-2 bg-[#008CFF] text-white px-6 py-2.5 rounded-xl font-bold hover:brightness-110 transition-all shadow-lg shadow-blue-500/20"
            >
              <span>Contribute via Venmo</span>
            </a>
          </div>
          <p class="mt-8 text-sm opacity-50">
            Have a suggestion or found a bug? <a
              href="https://discord.gg/yQEamZ58CA"
              target="_blank"
              class="underline hover:text-[var(--accent-color)] hover:opacity-100"
              >Join the Discord</a
            > and let me know!
          </p>
        </div>
      </footer>
    </main>
  </div>
</Layout>
